<!-- Demystify-lite pyscript implementation of Demystify.

   Many thanks to John Hanley for their file-system guides:

      - https://www.jhanley.com/pyscript-files-and-file-systems-part-2/

This code is licensed GPLv3.0. It is free for you to hack on and remix.
If you find a better way to do anything I am doing in this code, please,
take the opportunity to share if you feel so inclined.

Thank you for trying this out!
Enjoy! ðŸ”®
Ross

-->
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <!-- Site metadata -->
      <title>Demystify online! #digipres</title>
      <meta name="title" content="Demystify online - Demystify Lite - Digital Preservation" />
      <meta name="author" content="Ross Spencer"/>
      <meta name="description" content="File-format report static analysis tool, client-side, online"/>
      <meta name="keywords" content="Digital Preservation, Pyscript, Demystify, File-Formats"/>
      <meta name="rating" content="Utilities"/>
      <!-- Pyscript front-matter -->
      <script defer src="https://pyscript.net/releases/2022.09.1/pyscript.js"></script>
      <!-- Custom imports -->
      <link rel="stylesheet" href="./demystify.css">
      <link rel="stylesheet" href="./noprint.css" />
      <!-- Favicon -->
      <link rel="icon" type="image/png" href="favicon.ico" />
   </head>
   <body>
      <py-config>
         packages = ["demystify-digipres==2.0.0rc3"]
      </py-config>
      <!-- <py-repl id="my-repl" auto-generate="true"></py-repl> -->
      <py-script src="./demystify-lite.py"></py-script>
      <section class="noprint">
         <div class="banner">
            <b>Please note</b>, this application will not work in Firefox as
            Mozilla have limited support for
            <a class="banner_link"
               href="https://developer.mozilla.org/en-US/docs/Web/API/Window/showOpenFilePicker#browser_compatibility"
               target="_blank">the File API</a>
         </div>
      </section>
      <main>
         <section class="noprint">
            <div>
               <div class='row'>
                  <div class='column half-column'>
                     <div>
                        <img class="logo" src="favicon.ico" alt="demystify logo"><span class="logo">||</span>
                     </div>
                  </div>
                  <div class='column'>
                     <div>
                        <h1 class="title">Demystify Lite</h1>
                     </div>
                     <div>
                        <h2 class="subtitle">An analysis tool for file-format reports for digital preservation.</h2>
                     </div>
                  </div>
               </div>
            </div>
         </section>
         <section class="noprint content">
            <div >
               <p>Demystify is a static-analysis tool for digital preservation.</p>
               <p>
                  You can take a CSV report from DROID, or Siegfried YAML, run
                  it through this tool, and understand your collection better.
               </p>
               <p>
                  Demystify-lite processes everything on client-side, data isn't
                  shared with a server and so it can be safely used on data without
                  revealing your secrets to the world. This implementation is
                  enabled by
                  <a href="https://pyscript.net/" target="_blank">pyscript</a>.
               </p>
               <p>
               <p>
                  More information:
               <ul>
                  <li>Demystify full-fat on <a href="https://github.com/exponential-decay/demystify" target="_blank">Github</a>.</li>
                  <li>Understanding file-format identification reports on <a href="https://journal.code4lib.org/articles/16351" target="_blank">Code4Lib</a>.</li>
                  <li>Siegfried on <a href="https://github.com/richardlehane/siegfried" target="_blank">GitHub</a>.</li>
                  <li>DROID at <a href="https://www.nationalarchives.gov.uk/information-management/manage-information/preserving-digital-records/droid/" target="_blank">The National Archives, UK</a>.</li>
                  <li>Demystify Lite py-wheel commit: <a href="https://github.com/exponential-decay/demystify/commit/bed3c4b08aa9c04da7978f156f1fa8bf6fc7ac9e" target="_blank">97ef14</a>.</li>
                  <li>Demystify Lite repository and <a href="https://github.com/ross-spencer/demystify-lite/issues" target="_blank">issues</a>.</li>
               </ul>
               </p>
            </div>
            <p>Open a DROID or Siegfried report in the browser to analyze it.</p>
            </div>
         </section>
         <section class="noprint">
            <div class="drag" id="drop_zone">
               <div id="file_select">
                  <label class="custom-file-upload">
                     <input type="file" name="files[]" single disabled />
                  Select a file-format-report from your computer
                  </label>
               </div>
            </div>
         </section>
         <section class="noprint">
            <div class="noprint">
               <br />
               <br />
               <div id="filename"></div>
               <div id="filesize"></div>
               <div id="filetype"></div>
               <div id="filedate"></div>
               <br/>
            </div>
         </section>
         <section>
            <div id="results"></div>
         </section>
      </main>
   </body>
</html>
